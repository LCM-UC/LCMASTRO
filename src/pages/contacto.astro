---
import Layout from "../layouts/Layout.astro";
import Particles from "../components/effects/Particles.astro";
import Hero from "../components/sections/Hero.astro";
import Button from "../components/ui/Button.astro";
---

<Layout 
  title="Contacto | Portafolio LCM"
  description="Contáctame para colaborar en proyectos de desarrollo web, programación e inteligencia artificial. Leonardo Canorio - Estudiante de Ingeniería de Sistemas."
>
  <Particles />

  <section class="contact-section">
    <div class="container mx-auto max-w-4xl px-6">
      
      <!-- Encabezado -->
      <div class="contact-header scroll-reveal">
        <h1 class="contact-title gradient-text">
          Hablemos
        </h1>
        <p class="contact-subtitle">
          ¿Tienes un proyecto en mente? ¿Quieres colaborar? Estoy disponible para freelance, pasantías y proyectos académicos. Completa el formulario y te responderé pronto.
        </p>
      </div>

      <!-- Formulario -->
      <form 
        class="contact-form scroll-reveal" 
        id="contactForm"
        action="#"
        method="POST"
      >
        <!-- Campo Nombre -->
        <div class="form-group">
          <label for="nombre" class="form-label">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/>
              <circle cx="12" cy="7" r="4"/>
            </svg>
            <span>Nombre completo</span>
          </label>
          <input 
            type="text" 
            id="nombre"
            name="nombre"
            class="form-input" 
            placeholder="Ej: Leonardo Canorio"
            required
            autocomplete="name"
          >
        </div>

        <!-- Campo Email -->
        <div class="form-group">
          <label for="email" class="form-label">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <rect width="20" height="16" x="2" y="4" rx="2"/>
              <path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"/>
            </svg>
            <span>Correo electrónico</span>
          </label>
          <input 
            type="email" 
            id="email"
            name="email"
            class="form-input" 
            placeholder="leonardo@gmail.com"
            required
            autocomplete="email"
          >
        </div>

        <!-- Campo Asunto -->
        <div class="form-group">
          <label for="asunto" class="form-label">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48"/>
            </svg>
            <span>Asunto</span>
          </label>
          <input 
            type="text" 
            id="asunto"
            name="asunto"
            class="form-input" 
            placeholder="¿De qué quieres hablar?"
            required
          >
        </div>

        <!-- Campo Mensaje -->
        <div class="form-group">
          <label for="mensaje" class="form-label">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M7.9 20A9 9 0 1 0 4 16.1L2 22Z"/>
            </svg>
            <span>Mensaje</span>
          </label>
          <textarea 
            id="mensaje"
            name="mensaje"
            class="form-textarea" 
            rows="6"
            placeholder="Cuéntame sobre tu proyecto o idea..."
            required
          ></textarea>
        </div>

        <!-- Botón de envío -->
        <Button 
          type="submit"
          variant="primary"
          size="large"
          icon="send"
          class="btn-submit"
          id="submitBtn"
        >
          <span id="btnText">Enviar mensaje</span>
        </Button>

        <!-- Mensaje de respuesta -->
        <div 
          id="formMessage" 
          class="form-message"
          role="alert"
          aria-live="polite"
        ></div>
      </form>

      <!-- Información de contacto alternativa -->
      <div class="contact-info scroll-reveal">
        <div class="info-card">
          <div class="info-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <rect width="20" height="16" x="2" y="4" rx="2"/>
              <path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"/>
            </svg>
          </div>
          <div>
            <h3 class="info-title">Email</h3>
            <a href="mailto:leonardocanorio@gmail.com" class="info-link">
              leonardocanorio@gmail.com
            </a>
          </div>
        </div>

        <div class="info-card">
          <div class="info-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"/>
              <rect width="4" height="12" x="2" y="9"/>
              <circle cx="4" cy="4" r="2"/>
            </svg>
          </div>
          <div>
            <h3 class="info-title">LinkedIn</h3>
            <a href="https://linkedin.com/in/leonardo-canorio" target="_blank" rel="noopener noreferrer" class="info-link">
              /leonardo-canorio
            </a>
          </div>
        </div>

        <div class="info-card">
          <div class="info-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"/>
              <path d="M9 18c-4.51 2-5-2-7-2"/>
            </svg>
          </div>
          <div>
            <h3 class="info-title">GitHub</h3>
            <a href="https://github.com/leonardo" target="_blank" rel="noopener noreferrer" class="info-link">
              github.com/leonardo
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <script>
    const contactForm = document.getElementById('contactForm') as HTMLFormElement | null;
    const formMessage = document.getElementById('formMessage');

    if (contactForm) {
      contactForm.addEventListener('submit', async (e) => {
        e.preventDefault();

        setTimeout(() => {
          if (formMessage) {
            formMessage.textContent = '✓ Mensaje enviado con éxito. Te responderé pronto.';
            formMessage.className = 'form-message success';
          }
          
          contactForm.reset();
          
          if (formMessage) {
            setTimeout(() => {
              formMessage.className = 'form-message';
            }, 5000);
          }
        }, 1500);
      });
    }
  </script>

  <style>
    .contact-section {
      min-height: 100vh;
      padding: 8rem 0 5rem;
      position: relative;
      z-index: 10;
    }

    .contact-header {
      text-align: center;
      margin-bottom: 4rem;
    }

    .contact-title {
      font-size: 3.5rem;
      font-weight: 700;
      margin-bottom: 1.5rem;
    }

    .contact-subtitle {
      color: var(--color-texto);
      font-size: 1.25rem;
      line-height: 1.6;
      max-width: 42rem;
      margin: 0 auto;
    }

    .contact-form {
      background-color: rgba(0, 21, 15, 0.3);
      border: 1px solid rgba(176, 224, 168, 0.2);
      padding: 3rem;
      margin-bottom: 4rem;
      backdrop-filter: blur(10px);
    }

    .form-group {
      margin-bottom: 2rem;
    }

    .form-label {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      color: var(--color-principal);
      font-size: 1rem;
      font-weight: 600;
      margin-bottom: 0.75rem;
    }

    .form-input,
    .form-textarea {
      width: 100%;
      padding: 1rem;
      font-size: 1rem;
      color: white;
      background-color: rgba(0, 0, 0, 0.5);
      border: 1px solid rgba(176, 224, 168, 0.3);
      border-radius: 0;
      transition: all 0.3s ease;
      font-family: 'Space Grotesk', sans-serif;
    }

    .form-input:focus,
    .form-textarea:focus {
      outline: none;
      border-color: var(--color-principal);
      box-shadow: 0 0 0 2px rgba(176, 224, 168, 0.1);
      background-color: rgba(0, 0, 0, 0.7);
    }

    .form-input::placeholder,
    .form-textarea::placeholder {
      color: rgba(156, 191, 159, 0.5);
    }

    .form-textarea {
      resize: vertical;
      min-height: 150px;
    }

    .btn-submit {
      width: 100%;
      justify-content: center;
      margin-top: 1rem;
    }

    .form-message {
      margin-top: 1.5rem;
      padding: 1rem;
      border-radius: 0;
      font-weight: 600;
      text-align: center;
      opacity: 0;
      transform: translateY(-10px);
      transition: all 0.3s ease;
      display: none;
    }

    .form-message.success {
      display: block;
      opacity: 1;
      transform: translateY(0);
      background-color: rgba(176, 224, 168, 0.1);
      border: 1px solid var(--color-principal);
      color: var(--color-principal);
    }

    .contact-info {
      display: grid;
      gap: 2rem;
      margin-top: 4rem;
    }

    .info-card {
      display: flex;
      align-items: center;
      gap: 1.5rem;
      padding: 2rem;
      background-color: rgba(0, 21, 15, 0.3);
      border: 1px solid rgba(176, 224, 168, 0.2);
      transition: all 0.3s ease;
    }

    .info-card:hover {
      border-color: var(--color-principal);
      background-color: rgba(0, 21, 15, 0.5);
      transform: translateY(-2px);
    }

    .info-icon {
      flex-shrink: 0;
      width: 4rem;
      height: 4rem;
      display: flex;
      align-items: center;
      justify-content: center;
      background-color: rgba(176, 224, 168, 0.1);
      border: 1px solid rgba(176, 224, 168, 0.3);
      color: var(--color-principal);
      transition: all 0.3s ease;
    }

    .info-card:hover .info-icon {
      background-color: var(--color-rojo);
      border-color: var(--color-rojo);
      color: white;
      transform: scale(1.1);
    }

    .info-title {
      font-size: 1rem;
      font-weight: 600;
      color: var(--color-texto);
      margin-bottom: 0.25rem;
    }

    .info-link {
      color: var(--color-principal);
      font-size: 1.125rem;
      font-weight: 600;
      transition: color 0.3s ease;